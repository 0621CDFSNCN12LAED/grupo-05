<!DOCTYPE html>
<html lang="en">

<head>
    <%- include("../partials/head") %>
        <title>Register</title>
        <script defer src="/js/register.js"></script>
</head>

<body>
    <%- include("../partials/header") %>
        <%- include("../partials/slide-show") %>
            <main id="main-content">
                <div class="center">
                    <form action="/user/register" method="POST" class="main-form register">
                        <h2 class="form-title">Registrarse:</h2>
                        <div class="feedback">
                            <% if(typeof errors !="undefined" ) {%>
                                <p>Errores</p>
                                <ul>
                                    <% for(let i=0; i < errors.length; i++) {%>
                                        <li>
                                            <%= errors[i].msg %>
                                        </li>
                                        <% } %>
                                </ul>
                                <% } %>
                        </div>
                        <div class="form-box">
                            <label class="form-label" for="user_name">
                                Nombre de usuario:
                            </label>
                            <input class="form-input" id="user_name" name="user_name" type="text"
                                placeholder="Nombre de usuario"
                                value="<%= locals.old && old.user_name ? old.user_name : "" %>" />
                            <p class="hide-error-fe" id="user_name_error">El nombre de usuario debe contener más de 2
                                caracteres.</p>
                        </div>
                        <div class="form-box">
                            <label class="form-label" for="email">Email:</label>
                            <input class="form-input" id="email" name="email" type="email" placeholder="Email"
                                value="<%= locals.old && old.email ? old.email : "" %>" />
                            <p class="hide-error-fe" id="email_error">Dirección de email invalida.</p>
                        </div>
                        <div class="form-box">
                            <label class="form-label" for="password">
                                Contraseña:
                            </label>
                            <input class="form-input" id="password" name="password" type="password"
                                placeholder="Contraseña" />
                            <p class="hide-error-fe" id="password_empty_error">Casilla de contraseña vacia.</p>
                            <p class="hide-error-fe" id="password_weak_error">La contraseña debe tener entre 8 y 15
                                caracteres, conteniendo 1 letra minúscula, 1 letra mayúscula, un número y un carácter
                                especial (!@#$%^&*).</p>
                        </div>
                        <div class="form-box">
                            <label class="form-label" for="confirmPassword">
                                Confirmar contraseña:
                            </label>
                            <input class="form-input" id="confirmPassword" name="confirmPassword" type="password"
                                placeholder="Confirmar contraseña" />
                            <p class="hide-error-fe" id="password_confirm_error">La contraseña de verificación no
                                coincide.</p>

                        </div>
                        <div class="flex justify-space-between">
                            <button class="button-form" id="buttonSubmit" type="submit">
                                Enviar
                            </button>
                            <button class="button-form" type="reset">Borrar</button>
                        </div>
                        <a href="/login">¿Ya tenes una cuenta?</a>
                    </form>
                </div>
            </main>
            <%- include("../partials/footer") %>
</body>

</html>